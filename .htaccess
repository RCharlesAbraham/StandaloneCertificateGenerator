# Root .htaccess - Handles main domain redirects
# For Option B: Keeping folder structure with public/ subdirectory

# Enable mod_rewrite
RewriteEngine On

# Redirect root to public/
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^(.*)$ public/ [L]

# If file doesn't exist in root, try in public/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/public/
RewriteRule ^(.*)$ public/$1 [L]

# Prevent directory browsing
Options -Indexes

# Set proper MIME types
AddType text/css .css
AddType application/javascript .js
AddType application/json .json

# Protect sensitive files
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Protect includes directory
<IfModule mod_rewrite.c>
    RewriteRule ^includes/.*$ - [F,L]
</IfModule>
